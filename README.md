# Lead Sniper Test Assignment - BTL/Marketing Agencies Database

Сбор базы российских BTL и маркетинговых агентств с выручкой ≥ 200 млн ₽.

## Структура проекта
```
lead-sniper-test/
├── src/
│   ├── collectors/      # Сборщики данных из источников
│   ├── enrichers/       # Обогащение данными (ИНН, выручка, ОКВЭД)
│   ├── processors/      # Очистка, нормализация, дедупликация
│   ├── utils/           # Вспомогательные утилиты
│   ├── config.py        # Конфигурация
│   └── main.py          # Точка входа
├── data/
│   ├── raw/             # Сырые данные
│   ├── interim/         # Промежуточные данные
│   └── companies.csv    # Финальный результат
├── tests/               # Тесты
├── notebooks/           # Jupyter notebooks для анализа
├── Dockerfile
├── docker-compose.yml
├── requirements.txt
└── README.md
```

## Быстрый старт

### Вариант 1: Docker (рекомендуется)
```bash
# Скопировать .env.example в .env и заполнить при необходимости
cp .env.example .env

# Собрать и запустить
docker-compose up --build

# Результат будет в data/companies.csv
```

### Вариант 2: Локально
```bash
# Создать виртуальное окружение
python3 -m venv venv
source venv/bin/activate

# Установить зависимости
pip install -r requirements.txt

# Скопировать .env
cp .env.example .env

# Запустить
python src/main.py
```

## Подход

### Источники данных

1. **РРАР-2025** - основной seed list (BTL, сувениры, полный цикл, комм. группы)
2. **RUWARD** - дополнительные агентства полного цикла
3. **Rusprofile** - ИНН, выручка, ОКВЭД, сотрудники
4. **Сайты компаний** - описания, контакты

### Пайплайн
```
Сбор seed list → Поиск ИНН → Обогащение финансами → 
→ Парсинг сайтов → Тегирование (LLM) → Очистка → Экспорт CSV
```

### Определение сегментов

- **BTL**: промо, мерчендайзинг, brand activation
- **EVENT**: ивенты, выставки, конференции
- **SOUVENIR**: сувенирная продукция, промо-материалы
- **FULL_CYCLE**: агентства полного цикла, 360
- **COMM_GROUP**: коммуникационные группы, холдинги

## Что получилось / Что не получилось

### ✅ Реализовано

- [ ] Сбор seed list из РРАР-2025
- [ ] Обогащение данными из Rusprofile
- [ ] Автоматическая очистка и нормализация
- [ ] Дедупликация по ИНН
- [ ] Фильтрация по выручке ≥ 200M

### ⚠️ Планировалось, но не реализовано

- [ ] LLM-тегирование (из-за отсутствия API ключа)
- [ ] Парсинг сайтов компаний для описаний
- [ ] Интеграция с RUWARD

## Роль LLM

LLM планировалось использовать для:
1. Классификации сегментов по описанию
2. Извлечения описаний с сайтов
3. Валидации релевантности компаний

Не использовалось в финальной версии из-за отсутствия бюджета на API.

## Лицензия

MIT
